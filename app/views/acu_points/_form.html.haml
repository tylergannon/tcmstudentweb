- title @acu_point.new_record? ? "New AcuPoint" : "Editing #{@acu_point.display_name}"
= form_for @acu_point, :remote=>true do |f|
  = error_messages_for f.object
  %table
    %tr
      %td.fieldName Pinyin:
      %td= f.text_field(:pinyin, :autocomplete => "off")
    %tr
      %td.fieldName Chinese:
      %td= f.text_field(:chinese, :autocomplete => "off")
  %p= f.submit :disable_with => 'Salvation..'

.fieldName Point Categories
%ul#acu_point_categories
  = render :partial=>'acu_point_categories/acu_point_category', :collection=>@acu_point.acu_point_categories
!= new_link AcuPointCategory, 'New Category Association', {:acu_point_id=>@acu_point.id}, :id=>'new_category_link'
%br/
%h2 Info Sources

#acu_point_infos
  = render :partial=>'acu_point_infos/acu_point_info', :collection=>@acu_point.acu_point_infos
!= new_link AcuPointInfo, 'Add an Info Source', {:acu_point_id=>@acu_point.id}, :id=>'new_source_link'

.field
  = ajax_association_link("Show point prescriptions", @acu_point, :point_prescriptions)
  %div{:id=>@acu_point.element_id(:point_prescriptions)}

.field
  = ajax_association_link("Show point combinations", @acu_point, :point_combinations)
  %div{:id=>@acu_point.element_id(:point_combinations)}
!= new_link PointCombination, 'Add a point combination', |
        {:acu_point_id=>@acu_point.id, |
        :container=>@acu_point.element_id(:point_combinations), |
        :ajax_function => 'append'}, :id=>'new_combo_link'
#{raw show_link @acu_point} | #{raw index_link 'acu_points'} | #{raw edit_link @next, 'Edit Next Point - #{@next.display_name}', {}, :id=>"next_acu_point_link"}

